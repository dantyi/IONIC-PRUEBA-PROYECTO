
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Iniciar Sesión</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@ionic/core/css/ionic.bundle.css" />
</head>

<body>
    <ion-app>
        <ion-header>
            <ion-toolbar>
              <ion-title>Iniciar Sesión</ion-title>
            </ion-toolbar>
          </ion-header>
          
          <ion-content>
            <ion-list>
              <ion-item>
                <ion-label position="floating">Correo electrónico</ion-label>
                <ion-input id="email" type="email"></ion-input>
              </ion-item>
              <ion-item>
                <ion-label position="floating">Contraseña</ion-label>
                <ion-input id="password" type="password"></ion-input>
              </ion-item>
            </ion-list>
        
            <ion-button expand="full" onclick="iniciarSesion()">Iniciar Sesión</ion-button>
        
            <div style="text-align: center; margin-top: 20px;">
              ¿No tienes una cuenta? <a href="index.html">Registrarse</a>
            </div>
          </ion-content>
    </ion-app>
    <script type="module" src="https://cdn.jsdelivr.net/npm/@ionic/core/dist/ionic/ionic.esm.js"></script>
    <script nomodule src="https://cdn.jsdelivr.net/npm/@ionic/core/dist/ionic/ionic.js"></script>
    <style>
          /* Estilos generales */
  ion-app {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
  }

  /* Estilos del contenido */
  ion-content {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    height: 100%;
  }

  /* Estilos del título */
  ion-title {
    text-align: center;
    font-size: 20px;
    font-weight: bold;
    margin-bottom: 20px;
  }

  /* Estilos de los elementos de formulario */
  ion-item {
    margin-bottom: 15px;
  }

  ion-label {
    font-size: 16px;
  }

  ion-input {
    font-size: 16px;
  }

  /* Estilos del botón */
  ion-button {
    margin-top: 20px;
    font-size: 18px;
    font-weight: bold;
    background-color: #007bff;
    color: #fff;
  }
      </style>
      <script>
        function iniciarSesion() {
          // Obtener los valores de los campos de entrada
          const email = document.getElementById('email').value;
          const password = document.getElementById('password').value;
  
          // Crear un objeto con los datos del formulario
          const data = {
            email: email,
            password: password
          };
  
          // Realizar la solicitud POST al servidor
          fetch('/inicio-sesion', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json'
            },
            body: JSON.stringify(data)
          })
            .then(response => response.json())
            .then(data => {
              // Mostrar la respuesta del servidor
              alert(data.message);
              if (data.redirectURL) {
            window.location.href = data.redirectURL;
        }
            })
            .catch(error => {
              console.error(error);
            });
        }
      </script>

</body>

</html>